<p dir="rtl"># מחלקות ב-<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">python</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>></p>
<p dir="rtl">מחלקות הן אחד המנגנונים העיקריים של תכנות מונחה עצמים (<span dir="ltr">OOP</span>) בפייתון. ניתן לדמיין מחלקה כ"תבנית" או "שרטוט" ליצירת אובייקטים בעלי תכונות (נתונים) ושיטות (פונקציות). אובייקטים שנוצרו על בסיס מחלקה נקראים מופעים (אינסטנסים) של המחלקה. מחלקות מאפשרות לבנות קוד בצורה מובנית, לשפר את יכולת השימוש החוזר בו ולהקל על תחזוקתו.</p>
<h3 dir="rtl">מבנה מחלקה</h3>
<pre class="line-numbers"><code class="language-python">
class ClassName:
    # תכונות מחלקה
    def __init__(self, param1, param2):
        # בנאי (מאפס) המחלקה
        self.param1 = param1
        self.param2 = param2

    # שיטות מחלקה
    def method(self):
        return f'{self.param1} ו- {self.param2}'
</code></pre>
<li dir="rtl">**בנאי** (<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__init__</<span dir="ltr">span</span>></<span dir="ltr">code</span>></<span dir="ltr">span</span>>):</li>
<p dir="rtl">הבנאי <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__init__</<span dir="ltr">span</span>></<span dir="ltr">code</span>></<span dir="ltr">span</span>> הוא שיטה מיוחדת הנקראת אוטומטית בעת יצירת אובייקט חדש. הוא משמש לאתחול תכונות האובייקט.</p>
<p dir="rtl">- <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">self</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>: פרמטר המהווה הפניה למופע הנוכחי של המחלקה. בפייתון חובה להעביר אותו כפרמטר הראשון בכל שיטות המחלקה (הוא אינו מועבר בעת קריאה לשיטה).</p>
<p dir="rtl">- תכונות, כגון <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">param1</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> ו-<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">param2</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, מוקצות לאובייקט באמצעות <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">self</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>. תכונות אלו יכולות לשמש לאחר מכן על ידי שיטות אחרות של המחלקה.</p>
<li dir="rtl">**תכונות מחלקה**:</li>
<p dir="rtl">תכונות הן משתנים השייכים לאובייקטים של מחלקה זו. הן מוגדרות בתוך הבנאי (<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__init__</<span dir="ltr">span</span>></<span dir="ltr">code</span>></<span dir="ltr">span</span>>) וניתן לגשת אליהן באמצעות הפניה לאובייקט.</p>
<li dir="rtl">**שיטות מחלקה**:</li>
<p dir="rtl">שיטות הן פונקציות שיכולות לתפעל את תכונות האובייקט. שיטות יכולות להשתמש בנתוני האובייקט, לשנות אותם או לבצע פעולות אחרות.</p>
<h3 dir="rtl">יצירת אובייקט מחלקה</h3>
<p dir="rtl">כאשר מחלקה מוגדרת, ניתן ליצור אובייקטים של מחלקה זו. אובייקטים הם מופעים של המחלקה.</p>
<pre class="line-numbers"><code class="language-python">
class Car:
    def __init__(self, make, model, year):
        self.make = make
        self.model = model
        self.year = year

    def description(self):
        return f'{self.year} {self.make} {self.model}'

# יצירת אובייקט
my_car = Car('Toyota', 'Corolla', 2020)
print(my_car.description())  # פלט: 2020 Toyota Corolla
</code></pre>
<p dir="rtl">- בדוגמה זו, יצרנו אובייקט <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">my_car</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> מהמחלקה <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">Car</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>. בעת יצירת האובייקט, מועברים ערכים עבור התכונות <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">make</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">model</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> ו-<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">year</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, הנשמרים באובייקט.</p>
<p dir="rtl">- השיטה <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">description</span>()</<span dir="ltr">code</span>></<span dir="ltr">span</span>> מאפשרת לקבל ייצוג מחרוזתי של המכונית.</p>
<h3 dir="rtl">סוגי שיטות</h3>
<li dir="rtl">**שיטות מופע**: אלו הן שיטות רגילות הפועלות על מופעי המחלקה. הן מקבלות הפניה לאובייקט כפרמטר הראשון (בדרך כלל <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">self</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>).</li>
<p dir="rtl">דוגמה:</p>
<p dir="rtl">```<span dir="ltr">python</span></p>
<p dir="rtl"><span dir="ltr">def</span> <span dir="ltr">method(self</span>):</p>
<p dir="rtl"><span dir="ltr">pass</span></p>
<p dir="rtl">```</p>
<li dir="rtl">**שיטות מחלקה**: שיטות המקבלות את המחלקה עצמה כפרמטר הראשון. להגדרת שיטות כאלה משתמשים במקשט <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>>@<span dir="ltr">classmethod</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>. הן יכולות לשנות את מצב המחלקה עצמה, ולא רק מופעים בודדים שלה.</li>
<p dir="rtl">דוגמה:</p>
<p dir="rtl">```<span dir="ltr">python</span></p>
<p dir="rtl"><span dir="ltr">class</span> <span dir="ltr">MyClass</span>:</p>
<p dir="rtl">@<span dir="ltr">classmethod</span></p>
<p dir="rtl"><span dir="ltr">def</span> <span dir="ltr">class_method(cls</span>):</p>
<p dir="rtl"><span dir="ltr">pass</span></p>
<p dir="rtl">```</p>
<li dir="rtl">**שיטות סטטיות**: אלו הן שיטות שאינן משתמשות ב-<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">self</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> או ב-<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">cls</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> (כלומר, אין להן גישה לא למופע ולא למחלקה). שיטות סטטיות מוכרזות באמצעות המקשט <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>>@<span dir="ltr">staticmethod</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>. הן יכולות להיות שימושיות כאשר שיטה אינה תלויה במצב האובייקט או המחלקה, אך קשורה ללוגיקה השייכת למחלקה.</li>
<p dir="rtl">דוגמה:</p>
<p dir="rtl">```<span dir="ltr">python</span></p>
<p dir="rtl"><span dir="ltr">class</span> <span dir="ltr">MyClass</span>:</p>
<p dir="rtl">@<span dir="ltr">staticmethod</span></p>
<p dir="rtl"><span dir="ltr">def</span> <span dir="ltr">static_method</span>():</p>
<p dir="rtl"><span dir="ltr">pass</span></p>
<p dir="rtl">```</p>
<h3 dir="rtl">ירושה</h3>
<p dir="rtl">אחד העקרונות המרכזיים של <span dir="ltr">OOP</span> הוא **ירושה**. מחלקה יכולה לרשת התנהגות ממחלקה אחרת, ולהרחיב או לשנות את הפונקציונליות שלה. זה מאפשר שימוש חוזר בקוד, תוך הימנעות משכפול.</p>
<pre class="line-numbers"><code class="language-python">
class Animal:
    def speak(self):
        return 'קול של חיה'

class Dog(Animal):  # המחלקה Dog יורשת מהמחלקה Animal
    def speak(self):
        return 'האו'

# יצירת אובייקטים
dog = Dog()
print(dog.speak())  # פלט: האו
</code></pre>
<p dir="rtl">- המחלקה <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">Dog</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> יורשת את השיטה <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">speak</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> מהמחלקה <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">Animal</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, אך דורסת אותה כדי להחזיר את המחרוזת <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>>'האו'</<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<h3 dir="rtl">פולימורפיזם</h3>
<p dir="rtl">**פולימורפיזם** פירושו היכולת של אובייקטים ממחלקות שונות להשתמש באותן שיטות עם מימוש שונה. בפייתון זה אפשרי בזכות ירושה ודריסת שיטות.</p>
<pre class="line-numbers"><code class="language-python">
class Cat(Animal):
    def speak(self):
        return 'מיאו'

# יצירת אובייקטים
cat = Cat()
print(cat.speak())  # פלט: מיאו
</code></pre>
<p dir="rtl">כאן <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">Cat</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> גם דורסת את השיטה <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">speak</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, אך מחזירה ערך אחר. זה מאפשר לקרוא לשיטה <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">speak</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> ללא תלות בסוג האובייקט.</p>
<h3 dir="rtl">אנקפסולציה</h3>
<p dir="rtl">**אנקפסולציה** מאפשרת להסתיר פרטי יישום פנימיים ולספק גישה לנתונים באמצעות שיטות ציבוריות. זה עוזר למנוע שימוש שגוי בנתונים.</p>
<pre class="line-numbers"><code class="language-python">
class Car:
    def __init__(self, make, model):
        self._make = make  # תכונה מוגנת
        self._model = model

    def get_make(self):
        return self._make

    def set_make(self, make):
        self._make = make

# יצירת אובייקט
my_car = Car('Toyota', 'Corolla')
print(my_car.get_make())  # פלט: Toyota
my_car.set_make('Honda')
print(my_car.get_make())  # פלט: Honda
</code></pre>
<p dir="rtl">כאן, התכונות <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>>_make</<span dir="ltr">code</span>></<span dir="ltr">span</span>> ו-<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>>_model</<span dir="ltr">code</span>></<span dir="ltr">span</span>> מוגנות (בדרך כלל בפייתון קו תחתון מציין שתכונות אלו לא אמורות לשמש ישירות מחוץ למחלקה), אך ניתן לגשת אליהן ולשנות אותן באמצעות השיטות <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">get_make</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>> ו-<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><span dir="ltr">set_make</span></<span dir="ltr">code</span>></<span dir="ltr">span</span>>.</p>
<h3 dir="rtl">תכונות נוספות של מחלקות</h3>
<li dir="rtl">**דסטרוקטור** (<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__del__</<span dir="ltr">span</span>></<span dir="ltr">code</span>></<span dir="ltr">span</span>>):</li>
<p dir="rtl">שיטה מיוחדת הנקראת כאשר אובייקט מושמד (לדוגמה, כאשר הוא יוצא מתחום ההיקף). היא יכולה לשמש לשחרור משאבים.</p>
<p dir="rtl">דוגמה:</p>
<p dir="rtl">```<span dir="ltr">python</span></p>
<p dir="rtl"><span dir="ltr">class</span> <span dir="ltr">MyClass</span>:</p>
<p dir="rtl"><span dir="ltr">def</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__del__</<span dir="ltr">span</span>>(<span dir="ltr">self</span>):</p>
<p dir="rtl"><span dir="ltr">print</span>("האובייקט הושמד")</p>
<p dir="rtl"><span dir="ltr">obj</span> = <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><span dir="ltr">MyClass</span>()</<span dir="ltr">span</span>></p>
<p dir="rtl"><span dir="ltr">del</span> <span dir="ltr">obj</span>  # האובייקט יושמד ושיטת <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__del__</<span dir="ltr">span</span>> תיקרא</p>
<p dir="rtl">```</p>
<li dir="rtl">**שיטות קסם**:</li>
<p dir="rtl">אלו הן שיטות מיוחדות עם שני קווים תחתונים (לדוגמה, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__init__</<span dir="ltr">span</span>></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__str__</<span dir="ltr">span</span>></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__repr__</<span dir="ltr">span</span>></<span dir="ltr">code</span>></<span dir="ltr">span</span>>, <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><<span dir="ltr">code</span>><<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__eq__</<span dir="ltr">span</span>></<span dir="ltr">code</span>></<span dir="ltr">span</span>>). הן מאפשרות לדרוס את ההתנהגות הסטנדרטית של פעולות, כגון יצירת אובייקטים, השוואה, ייצוג מחרוזתי של אובייקטים וכו'.</p>
<p dir="rtl">דוגמה:</p>
<p dir="rtl">```<span dir="ltr">python</span></p>
<p dir="rtl"><span dir="ltr">class</span> <span dir="ltr">Point</span>:</p>
<p dir="rtl"><span dir="ltr">def</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__init__</<span dir="ltr">span</span>>(<span dir="ltr">self</span>, <span dir="ltr">x</span>, <span dir="ltr">y</span>):</p>
<p dir="rtl"><span dir="ltr">self.x</span> = <span dir="ltr">x</span></p>
<p dir="rtl"><span dir="ltr">self.y</span> = <span dir="ltr">y</span></p>
<p dir="rtl"><span dir="ltr">def</span> <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>">__repr__</<span dir="ltr">span</span>>(<span dir="ltr">self</span>):</p>
<p dir="rtl"><span dir="ltr">return</span> <span dir="ltr">f</span>'<<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><span dir="ltr">Point</span>({<span dir="ltr">self.x</span>}, {<span dir="ltr">self.y</span>})</<span dir="ltr">span</span>>'</p>
<p dir="rtl"><span dir="ltr">p</span> = <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><span dir="ltr">Point(3</span>, 4)</<span dir="ltr">span</span>></p>
<p dir="rtl"><span dir="ltr">print(p</span>)  # פלט: <<span dir="ltr">span</span> <span dir="ltr">dir</span>="<span dir="ltr">ltr</span>"><span dir="ltr">Point(3</span>, 4)</<span dir="ltr">span</span>></p>
<p dir="rtl">```</p>
<p dir="rtl">---</p>
<p dir="rtl">[לתוכן העניינים](<span dir="ltr">https</span>://<span dir="ltr">github.com</span>/<span dir="ltr">hypo69</span>/101_python_computer_games_ru/<span dir="ltr">blob</span>/<span dir="ltr">master</span>/<span dir="ltr">cheat_sheets</span>#<span dir="ltr">readme</span>)</p>